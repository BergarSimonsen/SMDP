package validation

import Configurator.BinaryConstraint
import org.eclipse.emf.ecore.EObject
import Configurator.BinaryOperator
import Configurator.ParameterIdentifier
import Configurator.Literal
import java.util.function.UnaryOperator
import Configurator.UnaryConstraint

class Constraints {
	
	
	def static dispatch boolean constraint(BinaryConstraint it) {
		()
		|| 
		((operator.equals(BinaryOperator.NOTEQUALS) || operator.equals(BinaryOperator.EQUALS) || operator.equals(BinaryOperator.GT) || operator.equals(BinaryOperator.GTEQ) || operator.equals(BinaryOperator.LT) || operator.equals(BinaryOperator.LTEQ)) && (leftOperand.class == ParameterIdentifier || leftOperand.class == Literal))
	}
	
	def static boolean andOrConstraint(BinaryConstraint it) {
		(operator.equals(BinaryOperator.AND) || (operator.equals(BinaryOperator.OR) || (operator.equals(BinaryOperator.XOR)) && (leftOperand.class.equals(BinaryConstraint) || leftOperand.class.equals(UnaryConstraint)) && (rightOperand.class.equals(BinaryConstraint) || rightOperand.class.equals(UnaryConstraint)))
	}
	
	)
	// Catch all case for dynamic dispatch resolution
	def static dispatch boolean constraint(EObject it) {
		true
	}
	
}